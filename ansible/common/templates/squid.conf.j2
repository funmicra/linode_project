http_port 3128

acl localnet src 192.168.33.0/24
acl SSL_ports port 443
acl Safe_ports port 80
acl Safe_ports port 443
acl CONNECT method CONNECT

# Allow internal network first
http_access allow localnet

# Required safety rules
http_access deny !Safe_ports
http_access deny CONNECT !SSL_ports

# Final deny
http_access deny all

access_log stdio:/var/log/squid/access.log
cache_log /var/log/squid/cache.log
